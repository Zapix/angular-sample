<div class="page-header">
  <h1>Change password</h1>
</div>
<div class="row" ng-show="passwordChanged">
  <div class="col-lg-offset-4 col-lg-4 col-md-offset-3 col-md-6 col-sm-12">
    <div class="alert alert-success">Your password has been changed.</div>
  </div>
</div>
<form name="form" ng-show="!passwordChanged" novalidate>
  <div class="row">
    <div class="col-lg-offset-4 col-lg-4 col-md-offset-3 col-md-6 col-sm-12">
      <div class="form-group">
        <label for="old_password">Old password:</label>
        <input
          type="password"
          id="old_password"
          name="old_password"
          class="form-control"
          ng-model="data.old_password"
          required />
      </div>
      <div ng-show="form.$submitted || form.old_password.$touched">
        <div class="alert alert-danger" ng-show="form.old_password.$error.required">Enter old password</div>
        <div class="alert alert-danger" ng-repeat="error in serverErrors.old_password">{{ error }}</div>
      </div>
    </div>
    <div class="col-lg-offset-4 col-lg-4 col-md-offset-3 col-md-6 col-sm-12">
      <div class="form-group">
        <label for="new_password1">New password:</label>
        <input
          type="password"
          id="new_password1"
          name="new_password1"
          class="form-control"
          ng-model="data.new_password1"
          required/>
      </div>
      <div ng-show="form.$submitted || form.new_password1.$touched">
        <div class="alert alert-danger" ng-show="form.new_password1.$error.required">Enter new password.</div>
        <div class="alert alert-danger" ng-repeat="error in serverErrors.new_password1">{{ error }}</div>
      </div>
    </div>
    <div class="col-lg-offset-4 col-lg-4 col-md-offset-3 col-md-6 col-sm-12">
      <div class="form-group">
        <label for="new_password2">New password again:</label>
        <input
          type="password"
          id="new_password2"
          name="new_password2"
          class="form-control"
          ng-model="data.new_password2"
          required/>
      </div>
      <div ng-show="form.$submitted || form.new_password2.$touched">
        <div class="alert alert-danger" ng-show="form.new_password2.$error.required">Enter new password again.</div>
        <div class="alert alert-danger" ng-show="data.new_password1 != data.new_password2">New passwords should match</div>
        <div class="alert alert-danger" ng-repeat="error in serverErrors.new_passwordw">{{ error }}</div>
      </div>
    </div>
    <div class="col-lg-offset-4 col-lg-4 col-md-offset-3 col-md-6 col-sm-12">
      <button
        type="submit"
        class="btn btn-primary pull-right"
        ng-click="changePassword(form, data)">Change password</button>
    </div>
  </div>
</form>
